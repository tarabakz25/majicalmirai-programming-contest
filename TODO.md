# LyricRails! TODO リスト

## 進捗管理
- 開始日: 2025-06-04
- 締切: 2025-07-08 12:00 JST
- **現在スプリント: S0**

## Sprint S0: 基盤構築 (06-04 – 06-06)
**目標**: Next.js 雛形 & 静的化成功、TextAlive サンプル再生

### セットアップ・環境構築
- [ ] Next.js 14 プロジェクト初期化
  - [ ] App Router 使用
  - [ ] TypeScript 設定
  - [ ] TailwindCSS セットアップ
- [ ] 静的サイト設定
  - [ ] `next.config.ts` で `output: "export"` 設定
  - [ ] ビルド後 `/out` フォルダ生成確認
- [ ] 開発環境整備
  - [ ] ESLint + Prettier 設定
  - [ ] `.env.local` ファイル作成
  - [ ] TextAlive App API キー設定

### TextAlive 連携基盤
- [ ] TextAlive App API SDK インストール
- [ ] 基本的な Player 初期化実装
- [ ] 課題曲メタデータ取得
  - [ ] `textalive.json` 作成
  - [ ] 6曲の基本情報（BPM、長さ、難易度）定義
- [ ] サンプル再生機能実装
  - [ ] 1曲でも正常に再生できることを確認

### 基本ディレクトリ構成
- [ ] `/app` ディレクトリ作成
  - [ ] `layout.tsx` (共有レイアウト)
  - [ ] `page.tsx` (タイトル画面)
  - [ ] `globals.css` (Tailwind設定)
- [ ] `/components` ディレクトリ作成
- [ ] `/lib` ディレクトリ作成
  - [ ] `textalive.ts` (TextAlive ラッパー)
  - [ ] `const.ts` (定数定義)

## Sprint S1: ゲームロジック (06-07 – 06-11)
**目標**: 歌詞→譜面エンジン＋判定ロジック完成

### 歌詞→譜面生成エンジン
- [ ] 歌詞データ解析機能
  - [ ] `unit.startTime` からノーツタイミング計算
  - [ ] レーン位置決定アルゴリズム
  - [ ] 判定窓設定
- [ ] 譜面データ構造定義
  - [ ] Note インターフェース作成
  - [ ] Chart インターフェース作成
- [ ] 譜面生成アルゴリズム実装
  - [ ] BPM に基づくノーツ配置
  - [ ] 難易度調整機能

### 判定ロジック
- [ ] 判定システム実装
  - [ ] Perfect/Great/Good/Miss 判定
  - [ ] 判定誤差 ±50ms 以内
  - [ ] コンボシステム
- [ ] スコア計算システム
  - [ ] 基本スコア算出
  - [ ] コンボ倍率計算
  - [ ] 歌詞シンク率計算

### ゲームコア機能
- [ ] `GameCore` クラス実装
  - [ ] ゲーム状態管理
  - [ ] フレーム更新処理
  - [ ] 入力処理
- [ ] ノーツ管理システム
  - [ ] アクティブノーツ追跡
  - [ ] ノーツ生成・削除

## Sprint S2: UI・描画 (06-12 – 06-18)
**目標**: レイアウト & モバイル UI、60 fps 描画達成

### Canvas/WebGL 描画
- [ ] Canvas 描画システム
  - [ ] ノーツ描画機能
  - [ ] 60 fps 以上で動作
  - [ ] レーン表示
- [ ] エフェクト実装
  - [ ] 判定エフェクト
  - [ ] コンボエフェクト
- [ ] 描画最適化
  - [ ] オフスクリーンレンダリング
  - [ ] 不要な再描画削減

### レスポンシブ UI
- [ ] PC 版レイアウト
  - [ ] 4レーン表示
  - [ ] キーボード操作
- [ ] モバイル版レイアウト
  - [ ] 縦1レーン表示
  - [ ] 大判ノーツ
  - [ ] タッチ操作対応
- [ ] 共通 UI コンポーネント
  - [ ] Button コンポーネント
  - [ ] Card コンポーネント
  - [ ] Gauge コンポーネント

### 画面遷移
- [ ] タイトル画面実装
- [ ] 曲選択画面実装
  - [ ] 曲カード表示
  - [ ] BPM・長さ・難易度表示
- [ ] プレイ画面実装
  - [ ] `/play/[songId]` ルート
  - [ ] ローディング画面

## Sprint S3: 機能完成 (06-19 – 06-25)
**目標**: 6曲対応、リザルト画面実装

### 全曲対応
- [ ] 6曲すべての譜面生成テスト
- [ ] 各曲の難易度調整
- [ ] 曲別設定対応

### リザルト画面
- [ ] リザルト画面実装
  - [ ] スコア表示
  - [ ] 精度表示
  - [ ] 最大コンボ表示
  - [ ] 歌詞シンク率表示
- [ ] SNS シェア機能
  - [ ] Twitter インテント URL 生成
  - [ ] 結果画像生成
  - [ ] ハッシュタグ付与

### 設定機能
- [ ] キー設定画面
  - [ ] WASD/矢印キー変更
  - [ ] localStorage 保存
- [ ] ユーザー設定
  - [ ] 音量設定
  - [ ] エフェクト設定

### デバッグ機能
- [ ] デバッグ HUD 実装
  - [ ] FPS 表示
  - [ ] unit.progress 表示
  - [ ] シークバー
  - [ ] dev ビルドでのみ表示

## Sprint S4: 品質・最適化 (06-26 – 07-02)
**目標**: 性能最適化・アクセシビリティ適合・ライセンス整理

### パフォーマンス最適化
- [ ] 初期ロード時間短縮
  - [ ] コード分割
  - [ ] 画像最適化
  - [ ] 5秒以内ロード達成
- [ ] 描画性能最適化
  - [ ] 60 fps 安定動作確認
  - [ ] 低性能端末での fallback 実装

### アクセシビリティ
- [ ] 色覚対応
  - [ ] コントラスト比 4.5:1 以上
  - [ ] 色だけに依存しない UI
- [ ] axe-core テスト
  - [ ] 重大 issue 0 達成
- [ ] キーボードナビゲーション対応

### セキュリティ・品質
- [ ] CSP 設定
- [ ] ESLint/Prettier 100% パス
- [ ] Vitest ユニットテスト実装
  - [ ] 譜面生成テスト
  - [ ] 判定ロジックテスト

### ライセンス・法的対応
- [ ] 第三者素材一覧作成
- [ ] ライセンス情報 README 記載
- [ ] AI生成素材使用禁止確認
- [ ] 著作権審査対応準備

## Sprint S5: 最終仕上げ (07-04 – 07-06)
**目標**: 最終ビルド、v1.0.0 タグ & 提出物 `/out` 完成

### 最終テスト
- [ ] 全受け入れ基準テスト
  - [ ] AC-01: 6曲完走率 100%
  - [ ] AC-02: PC・スマホで FPS≥60
  - [ ] AC-03: 判定誤差 ≤±50ms
  - [ ] AC-04: 静的ファイルのみ動作
  - [ ] AC-05: 色覚テスト PASS
- [ ] ブラウザ互換性テスト
  - [ ] Chrome 122+
  - [ ] Safari 17+
  - [ ] Edge 123+

### ビルド・デプロイ準備
- [ ] プロダクションビルド最適化
- [ ] ソースマップ付与確認
- [ ] `/out` フォルダ完成
- [ ] GitHub Pages デプロイテスト

### 提出準備
- [ ] `v1.0.0` タグ作成
- [ ] デモ動画撮影（3分以内）
- [ ] 提出物最終チェック
  - [ ] `/out` フォルダ
  - [ ] ソースコード（main ブランチ）
  - [ ] README.md 更新

## 提出フェーズ (07-07 – 07-08 12:00)
**目標**: GitHub 招待 + デモ動画 + 応募フォーム送信

- [ ] GitHub リポジトリ招待送信
- [ ] デモ動画アップロード
- [ ] 応募フォーム記入・送信
- [ ] 提出完了確認

---

## リスク監視項目

### 技術リスク
- [ ] TextAlive API 仕様変更監視
- [ ] モバイル性能テスト実施
- [ ] 難読化防止チェック実装

### スケジュールリスク
- [ ] 各スプリント進捗確認
- [ ] ブロッカー発生時のエスカレーション
- [ ] 外部テスター（3名）への 6/28 依頼準備

### 品質リスク
- [ ] 自動テスト導入
- [ ] 継続的品質チェック
- [ ] ユーザビリティテスト実施 